# Change Log
- 5.6.3
	- Bug Fix
	- Safely remove dispatch services while enumerating through array 
- 5.6.2
	- Updated device list to include the newest iPad 		devices
	- Added additional safety checks for unknown devices
- 5.6.1
  - Remove DevicesOnly frameworks
- 5.6.0
  - Remove UIWebView from Tag Management. Tag Management requires the use of WKWebView.
- 5.5.5
  - Incremented version number in the framework.
- 5.5.4
  - More WKWebView optimizations. Add functionality to reattach to the view at each track call so that Tealium does not need to be reinitialized when view hierarchy changes.
- 5.5.3
	- WKWebView UIView detection optimizations.
- 5.5.2
  - Bug Fix
    - Fix crash in WKWebView for Tag Management
- 5.5.1
  - Bug Fix
    - Fix `captureTimeDataSourcesForType` to use `Tealium:volatileDataSourcesCopy` instead of the `TEALDataSources: clientVolatileDataSources`. `addToVolatileDataSources` can now safely be called on another thread
- 5.5.0
  - API Change
    - Support for WKWebView in Tag Management if iOS version is greater than iOS 11.0. This is done automatically.
      - To continue using UIWebView instead, set `configuration.useLegacyWebView = YES` on the `TEALConfiguration` object before initializing Tealium
- 5.4.11
  - Bug Fix
    - Fix `lifecycle_isfirstlaunch=true` on second launch
- 5.4.10
  - Bug Fix
    - Fix ConsentManager header file to not return _Nullable for `init` method
    - Changed NSDateFormatter singleton implementation
- 5.4.9
  - API Change
    - Public headers for visitor attributes are available. Previously they were hidden.
  - Bug Fix
    - Return more than one attribute in Visitor Lookup API
- 5.4.8
  - API Change
    - [Visitor Lookup](https://community.tealiumiq.com/t5/Tealium-API/Visitor-Lookup-API/ta-p/22859) is supported with TagManagement or Collect. Previously it was turned off for TagManagement
- 5.4.7
  - API Change
    - `visitorIDCopy` available when Collect is not enabled
  - Bug Fix
    - Changed NSDateFormatter to use locale en_US_POSIX
- 5.4.6
  - Bug Fix
    - Added protection around volatile data sources from being accessed by multiple threads
- 5.4.5
  - Added millisecond-precise timestamp variable (timestamp_unix_milliseconds)
- 5.4.4
  - Rebuild of WatchOS platform to support arm64_32 architecture
  - Refactoring of TEALConsentStatus enum to prevent clashes
  - Bug Fix
    - edge case where some duplicate events would occur on launch
- 5.4.3
  - Support for [HTTP Collect API](https://community.tealiumiq.com/t5/Universal-Data-Hub/Tealium-Collect-HTTP-API/ta-p/16893). This is the default value but is configurable.
- 5.4.2
  - Variable tealium_session_id updated to persist for 30 minutes. This value is configurable. 
- 5.4.1
  - Bug fix
    - Corrected Lifecycle crash on start
- 5.4.0
  - Consent Manager release
  - Library bug fix
    - Missing device variable in payload
- 5.3.2
  - Bug fix
    - Corrected sending task to an invalid NSURLSession
- 5.3.1
  - Library bug fixes
    - NSDictionary was mutated while being enumerated
    - Memory leak
    - UIKit call performed on non-UIKit thread (this change may affect the behavior of screen_orientation)
- 5.3.0
  - Configuration updated with new initializer that takes a 'datasource' arg - 6 digit alphanumeric UDH Datasource Id
    - Removed variable:
      - page_type
    - Additional WebView dealloc protections added for Tag Managment service
- 5.2.1
  - Lifecycle module fix: Missing wake detection
  - Lifecycle module fix: Errant didDetectCrash=true when no actual crash occurred
- 5.2.0
  - Optimizely Integration Module available in the Support/Optimizely folder.
  - TealiumIOSDevicesOnly header fix (lingering underscores removed)
  - @synchronization protection added to the captureTimeDatasources function.
  - Log warning if a call is made to uninitilized Tealium instance (previously silent fail).
- 5.1.3
  - Nullable attributes added to dispatch manager
  - Improved Tealium Logger handling to support more development side control 
- 5.1.2 Bug Fix
  - Dispatch manager logic fix related to purged dispatches
    - Protections added for saving dispatches to persistence
- 5.1.1 Bug Fix
  - Corrected issue related to call_type datasource
- 5.1.0
  - New track with type API added and optional completion
  - Swift sample apps updated to support Swift 3
  - Removed underscores from binaries
  - Tealium universal data sources added for all dispatches:
    - tealium_event (previously event_name / link_id)
    - app_uuid (previously uuid)
    - tealium_event_type
- 5.0.4
  - First track event now waits for webview ready when Tag Management option enabled
  - Lifecycle module first launch auto detection now fires when autotrack lifecycle enabled
  - SetOverrideCollectDispatchURL fix
  - Volatile and Persistent data is now processed at track call time, instead of dispatch time
  - Lifecycle module has additional manual lifecycle calls that take optional data sources
  - Devices only builds added to repo (no simulator support frameworks)
  - DSYMs provided with each framework
  - Tealium universal data sources added for all dispatches:
    - event_name (previously link_id)
    - tealium_account
    - tealium_environment
    - tealium_library_name
    - tealium_library_version
    - tealium_profile
    - tealium_random (different 16 digit long number for each track event)
    - tealium_session_id
    - tealium_timestamp_epoch (previously timestamp_unix)
    - tealium_visitor_id (previously tealium_vid)
- 5.0.3 Bug Fixes
  - Protections added to the collectDispatchURL that may have caused crashes at launch time
  - Lifecycle module update fixing errant isFirstLaunch data source with subsequent events
  - Simulator stripping run script added to Sample Apps
- 5.0.2 Lifecycle Module & Sample App Added
  - TealiumIOSLifecycle.framework and sample app added to Support folder
  - Initial queue size init after first launch for default -1 setting fixed
  - CaptureTimeDataSources now safely adds additional data for certain launch edge cases
  - DestroyInstanceForKey: method now properly clears persistent data
  - Additional Data Source Keys to support lifecycle module added
  - Offline TagBridge feature enabled
- 5.0.1 Bug fixes
  - Remote disable fix
  - Reachability check fix
  - @import TealiumIOS module name fix
  - Minutes between refresh now displays correct time remaining
  - Dispatch logs updated with a QA verbosity option
  - Minor documentation update
  - Nullability specifiers for inits corrected for cleaner swift implementation
  - OverrideS2SLegacyDispatchURL can now accept base addresses without trailing '?'
  - TEALDispatch stringForDispatchStatusType class method made public
  - Track calls forced to stay on main thread until data capture complete, then to background queue
  - Blank sample app updated with proper method signatures
- 5.0.0 Initial Release
  - Multiton support
  - Collect Dispatch support
  - S2S Dispatch support
  - Tag Managment Dispatch support
  - TIQ Mobile Publish Settings v5 support
